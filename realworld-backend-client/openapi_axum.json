{"openapi":"3.0.3","info":{"title":"realworld-backend","description":"RealWorld backend implementation in Rust.","contact":{"name":"Heiko Seeberger","email":"git@heikoseeberger.de"},"license":{"name":"Apache-2.0"},"version":"0.1.0"},"paths":{"/user":{"get":{"tags":["user"],"summary":"Get the currently logged-in user.","description":"Get the currently logged-in user.","operationId":"get_current_user","responses":{"200":{"description":"Currently logged-in user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"bearer":[]}]},"put":{"tags":["user"],"summary":"Update the currently logged-in user.","description":"Update the currently logged-in user.","operationId":"update_current_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"Updated currently logged-in user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Conflict."},"422":{"description":"Invalid user update data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}},"security":[{"bearer":[]}]}},"/users":{"post":{"tags":["user"],"summary":"Register a new user.","description":"Register a new user.","operationId":"register_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequest"}}},"required":true},"responses":{"201":{"description":"Successfully registered user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"409":{"description":"Conflicting data for new user to be registered.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}},"422":{"description":"Invalid data for new user to be registered.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}}}},"/users/login":{"post":{"tags":["user"],"summary":"Login for an existing user.","description":"Login for an existing user.","operationId":"login_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"201":{"description":"Successfully registered user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"422":{"description":"Invalid credentials.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericError"}}}}}}}},"components":{"schemas":{"Credentials":{"type":"object","description":"Credentials to login an existing user.","required":["email","password"],"properties":{"email":{"$ref":"#/components/schemas/Email"},"password":{"$ref":"#/components/schemas/SecretString"}}},"Email":{"type":"string","format":"email","description":"An email address.","example":"name@realworld.dev"},"GenericError":{"type":"object","required":["errors"],"properties":{"errors":{"$ref":"#/components/schemas/GenericErrorBody"}}},"GenericErrorBody":{"type":"object","required":["body"],"properties":{"body":{"type":"array","items":{"type":"string"}}}},"LoginRequest":{"type":"object","description":"Request to login an existing user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/Credentials"}}},"NewUser":{"type":"object","description":"New user to be registered.","required":["username","email","password"],"properties":{"email":{"$ref":"#/components/schemas/Email"},"password":{"$ref":"#/components/schemas/SecretString"},"username":{"type":"string"}}},"RegisterUserRequest":{"type":"object","description":"Request to register a new user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/NewUser"}}},"SecretString":{"type":"string","format":"password","description":"New type for `secrecy::SecretString`.","example":"abcd567+"},"UpdateUser":{"type":"object","description":"Update for the currently logged in user. As `bio` is optional in [User], `None` means deleting\nthe current `bio`.","properties":{"bio":{"type":"string","nullable":true},"email":{"allOf":[{"$ref":"#/components/schemas/Email"}]},"password":{"allOf":[{"$ref":"#/components/schemas/SecretString"}]},"username":{"type":"string"}}},"UpdateUserRequest":{"type":"object","description":"Request to update the currently logged in user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/UpdateUser"}}},"User":{"type":"object","description":"A user.","required":["username","email","token"],"properties":{"bio":{"type":"string","nullable":true},"email":{"$ref":"#/components/schemas/Email"},"token":{"type":"string"},"username":{"type":"string"}}},"UserResponse":{"type":"object","description":"A user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/User"}}}},"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"user","description":"Users and authentication."}]}