{"openapi":"3.0.3","info":{"title":"realworld-backend","description":"RealWorld backend implementation in Rust.","contact":{"name":"Heiko Seeberger","email":"git@heikoseeberger.de"},"license":{"name":"Apache-2.0"},"version":"0.1.1"},"paths":{"/user":{"get":{"tags":["user"],"summary":"Get the currently logged-in user.","description":"Get the currently logged-in user.","operationId":"get_current_user","responses":{"200":{"description":"Currently logged-in user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"bearer":[]}]},"put":{"tags":["user"],"summary":"Update the currently logged-in user.","description":"Update the currently logged-in user.","operationId":"update_current_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}},"required":true},"responses":{"200":{"description":"Currently logged-in user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"User not found."},"409":{"description":"Conflicting user data."},"422":{"description":"Invalid user data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntity"}}}}},"security":[{"bearer":[]}]}},"/users":{"post":{"tags":["user"],"summary":"Register a new user.","description":"Register a new user.","operationId":"register_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserRequest"}}},"required":true},"responses":{"201":{"description":"Registered user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"409":{"description":"Conflicting user data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conflict"}}}},"422":{"description":"Invalid user data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntity"}}}}}}},"/users/login":{"post":{"tags":["user"],"summary":"Login for an existing user.","description":"Login for an existing user.","operationId":"login_user","requestBody":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"201":{"description":"Registered user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized."},"404":{"description":"User not found."},"422":{"description":"Invalid credentials.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnprocessableEntity"}}}}}}}},"components":{"schemas":{"Conflict":{"type":"object","required":["error"],"properties":{"error":{"type":"string"}}},"Credentials":{"type":"object","description":"Credentials to login an existing user.","required":["email","password"],"properties":{"email":{"$ref":"#/components/schemas/Email"},"password":{"$ref":"#/components/schemas/Password"}}},"Email":{"type":"string","format":"email","description":"Unique email address, used for login.","example":"john.doe@realworld.dev"},"LoginRequest":{"type":"object","description":"Request to login an existing user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/Credentials"}}},"NewUser":{"type":"object","description":"New user to be registered.","required":["username","email","password"],"properties":{"email":{"$ref":"#/components/schemas/Email"},"password":{"$ref":"#/components/schemas/Password"},"username":{"$ref":"#/components/schemas/Username"}}},"Password":{"type":"string","format":"password","description":"Password.","example":"abcd567+"},"RegisterUserRequest":{"type":"object","description":"Request to register a new user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/NewUser"}}},"UnprocessableEntity":{"type":"object","required":["errors"],"properties":{"errors":{"type":"array","items":{"type":"string"}}}},"UpdateUser":{"type":"object","description":"Update for the currently logged in user.","properties":{"bio":{"type":"string","nullable":true},"email":{"allOf":[{"$ref":"#/components/schemas/Email"}]},"password":{"allOf":[{"$ref":"#/components/schemas/Password"}]},"username":{"allOf":[{"$ref":"#/components/schemas/Username"}]}}},"UpdateUserRequest":{"type":"object","description":"Request to update the currently logged in user.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/UpdateUser"}}},"User":{"type":"object","description":"User.","required":["username","email","token"],"properties":{"bio":{"type":"string","description":"Bio.","nullable":true},"email":{"$ref":"#/components/schemas/Email"},"token":{"type":"string","description":"Bearer token used for authentication."},"username":{"$ref":"#/components/schemas/Username"}}},"UserResponse":{"type":"object","description":"User.","required":["user"],"properties":{"user":{"$ref":"#/components/schemas/User"}}},"Username":{"type":"string","format":"username","description":"Unique unsername.","example":"john.doe"}},"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"user","description":"Users and authentication."}]}